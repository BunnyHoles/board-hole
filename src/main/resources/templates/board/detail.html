<!DOCTYPE html>
<html lang="ko" th:replace="~{fragments/base :: layout(null, ~{::main})}"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>게시글 상세 - Board Hole</title>
</head>

<main>
    <!-- 네비게이션 breadcrumb -->
    <nav aria-label="breadcrumb">
        <ul>
            <li><a href="/boards">게시판</a></li>
            <li>게시글 상세</li>
        </ul>
    </nav>

    <!-- 메인 카드 (article = 자동 카드 스타일) -->
    <article>
        <!-- 헤더 영역 -->
        <header>
            <div class="grid">
                <div>
                    <hgroup>
                        <h1 th:text="${board.title}">게시글 제목</h1>
                        <p>
                            <small>
                                👤 <span th:text="${board.authorName}">홍길동</span> |
                                📅 <span
                                    th:text="${#temporals.format(board.createdAt, 'MM-dd HH:mm')}">01-15 14:30</span>
                                <span th:if="${board.updatedAt != board.createdAt}">
                                    | ✏️ <span th:text="|수정: ${#temporals.format(board.updatedAt, 'MM-dd HH:mm')}|">수정: 01-15 15:30</span>
                                </span>
                                | 👁 <span th:text="${board.viewCount}">123</span>
                            </small>
                        </p>
                    </hgroup>
                </div>

                <!-- 관리 메뉴 (Pico.css dropdown) -->
                <div sec:authorize="hasPermission(#vars.board.id, 'BOARD', 'WRITE')">
                    <details class="dropdown">
                        <summary class="secondary outline" role="button">관리 ▼</summary>
                        <ul role="listbox">
                            <li><a th:href="@{/boards/{id}/edit(id=${board.id})}">✏️ 수정</a></li>
                            <li>
                                <form method="post" style="margin: 0;"
                                      th:action="@{/boards/{id}/delete(id=${board.id})}">
                                    <button class="contrast" style="all: unset; cursor: pointer; padding: 0.5rem;"
                                            type="submit">
                                        🗑️ 삭제
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </details>
                </div>
            </div>
        </header>

        <!-- 본문 내용 -->
        <p th:utext="${#strings.replace(board.content, '\n', '<br>')}">
            게시글 내용이 여기에 표시됩니다.
        </p>

        <!-- 푸터 액션 -->
        <footer>
            <div class="grid">
                <div>
                    <a class="secondary outline" href="/boards" role="button">
                        ← 목록으로
                    </a>
                </div>
            </div>
        </footer>
    </article>


</main>
</html>
