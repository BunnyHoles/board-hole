<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/base :: layout(~{::title}, ~{::main})}">
<head>
    <title>ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨ - Board Hole</title>
</head>

<main>
    <div >
        <h1 class="h3">ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨</h1>
        <div >
            <span class="secondary outline" th:if="${users.totalElements > 0}">
                Ï¥ù <span th:text="${users.totalElements}">0</span>Î™Ö
            </span>
        </div>
    </div>

    <!-- ÏÇ¨Ïö©Ïûê Î™©Î°ù -->
    <div <article>
            <div th:if="${users.content.empty}" >
                üë§
                <p >Îì±Î°ùÎêú ÏÇ¨Ïö©ÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§.</p>
            </div>
            
            <div th:unless="${users.content.empty}">
                <!-- Î∞òÏùëÌòï ÏÇ¨Ïö©Ïûê Ïπ¥Îìú Î™©Î°ù -->
                <div >
                    <div  th:each="user : ${users.content}">
                        <div >
                            <div >
                                <!-- ÏÇ¨Ïö©Ïûê ÏïÑÎ∞îÌÉÄ -->
                                <div  
                                     style="width: 80px; height: 80px;">
                                    üë§
                                </div>
                                
                                <!-- ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ -->
                                <h5  th:text="${user.name}">ÏÇ¨Ïö©ÏûêÎ™Ö</h5>
                                <p  th:text="${user.email}">email@example.com</p>
                                
                                <!-- ÌÜµÍ≥Ñ Ï†ïÎ≥¥ -->
                                <div >
                                    <div >
                                        <div <mark th:text="${user.boardCount ?: 0}">0</div>
                                            <small >Í≤åÏãúÍ∏Ä</small>
                                        </div>
                                    </div>
                                    <div >
                                        <div <mark th:text="${user.commentCount ?: 0}">0</div>
                                            <small >ÎåìÍ∏Ä</small>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Í∞ÄÏûÖÏùº -->
                                <div >
                                    Í∞ÄÏûÖÏùº: <span th:text="${#temporals.format(user.createdAt, 'yy-MM-dd')}">24-01-01</span>
                                </div>
                                
                                <!-- Ïï°ÏÖò Î≤ÑÌäº -->
                                <a th:href="@{/users/{id}(id=${user.id})}" role="button" class="primary outline">
                                    üîç
                                    ÏÉÅÏÑ∏Î≥¥Í∏∞
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò -->
                <div class="card-footer bg-transparent border-0 py-4" th:if="${users.totalPages > 1}">
                    <nav aria-label="ÏÇ¨Ïö©Ïûê ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò">
                        <ul >
                            <!-- Ïù¥Ï†Ñ ÌéòÏù¥ÏßÄ -->
                            <li class="page-item" th:classappend="${users.first} ? 'disabled'">
                                <a class="page-link" 
                                   th:href="@{/users(page=${users.number - 1})}"
                                   th:if="${!users.first}">
                                    ‚óÄ
                                </a>
                                <span class="page-link" th:if="${users.first}">
                                    ‚óÄ
                                </span>
                            </li>

                            <!-- ÌéòÏù¥ÏßÄ Î≤àÌò∏ -->
                            <th:block th:each="pageNum : ${#numbers.sequence(0, users.totalPages - 1)}">
                                <li class="page-item" 
                                    th:if="${pageNum >= users.number - 2 and pageNum <= users.number + 2}"
                                    th:classappend="${pageNum == users.number} ? 'active'">
                                    <a class="page-link" 
                                       th:href="@{/users(page=${pageNum})}"
                                       th:text="${pageNum + 1}">1</a>
                                </li>
                            </th:block>

                            <!-- Îã§Ïùå ÌéòÏù¥ÏßÄ -->
                            <li class="page-item" th:classappend="${users.last} ? 'disabled'">
                                <a class="page-link" 
                                   th:href="@{/users(page=${users.number + 1})}"
                                   th:if="${!users.last}">
                                    ‚ñ∂
                                </a>
                                <span class="page-link" th:if="${users.last}">
                                    ‚ñ∂
                                </span>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <!-- Ï¥ù ÏÇ¨Ïö©Ïûê Ïàò ÌëúÏãú -->
    <div  th:unless="${users.content.empty}">
        <small>
            Ï¥ù <strong th:text="${users.totalElements}">0</strong>Î™ÖÏùò ÏÇ¨Ïö©Ïûê Ï§ë 
            <strong th:text="${users.number * users.size + 1}">1</strong>-<strong th:text="${users.number * users.size + users.numberOfElements}">10</strong>Î™Ö
        </small>
    </div>
 </main>
</html>
