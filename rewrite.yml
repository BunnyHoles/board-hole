---
type: specs.openrewrite.org/v1beta/recipe
name: bunny.boardhole.refactor.main
displayName: Board Hole 코드 품질 개선
description: 하드코딩된 문자열 검출 및 코드 품질 개선을 위한 레시피
recipeList:
  - bunny.boardhole.refactor.DetectHardcodedStrings
  - org.openrewrite.java.cleanup.Cleanup
  - org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_5

---
type: specs.openrewrite.org/v1beta/recipe
name: bunny.boardhole.refactor.DetectHardcodedStrings
displayName: 하드코딩된 문자열 검출
description: 국제화가 필요한 하드코딩된 문자열을 검출합니다
recipeList:
  - org.openrewrite.java.search.FindLiterals:
      pattern: ".*[\u3131-\u318E\uAC00-\uD7A3].*"
      matchAllStrings: false
  - org.openrewrite.java.search.FindLiterals:
      pattern: "^(?!GET|POST|PUT|DELETE|PATCH|HEAD|OPTIONS|id|name|code|type|path|method|timestamp).*"
      matchAllStrings: false

---
type: specs.openrewrite.org/v1beta/recipe
name: bunny.boardhole.refactor.ReplaceHardcodedStrings
displayName: 하드코딩된 문자열을 MessageSource로 교체
description: 하드코딩된 문자열을 MessageSource를 사용하도록 리팩토링합니다
recipeList:
  - org.openrewrite.java.AddImport:
      type: org.springframework.context.MessageSource
      onlyIfReferenced: false
  - org.openrewrite.java.AddImport:
      type: org.springframework.context.i18n.LocaleContextHolder
      onlyIfReferenced: false

---
type: specs.openrewrite.org/v1beta/recipe
name: bunny.boardhole.refactor.ImportOptimization
displayName: Import 최적화
description: 와일드카드 import를 명시적 import로 변경하고 사용하지 않는 import를 제거합니다
recipeList:
  - org.openrewrite.java.RemoveUnusedImports
  - org.openrewrite.java.NoStaticImport
  - org.openrewrite.java.OrderImports:
      removeUnused: true
      classCountToUseStarImport: 999
      nameCountToUseStarImport: 999

---
type: specs.openrewrite.org/v1beta/recipe
name: bunny.boardhole.refactor.SecurityBestPractices
displayName: 보안 모범 사례 적용
description: Spring Security 및 일반 보안 모범 사례를 적용합니다
recipeList:
  - org.openrewrite.java.spring.security6.UpgradeSpringSecurity_6_3
  - org.openrewrite.java.security.SecureRandom
  - org.openrewrite.java.security.UseFilesCreateTempDirectory

---
type: specs.openrewrite.org/v1beta/recipe
name: bunny.boardhole.refactor.ValidationReorganization
displayName: Validation 애너테이션 재구성
description: Validation 애너테이션을 required/optional 패키지로 재구성합니다
recipeList:
  # Board domain - Required validations
  - org.openrewrite.java.ChangePackage:
      oldPackageName: bunny.boardhole.board.domain.validation
      newPackageName: bunny.boardhole.board.domain.validation.required
      recursive: false
  # Board domain - Optional validations  
  - org.openrewrite.java.ChangePackage:
      oldPackageName: bunny.boardhole.board.domain.validation
      newPackageName: bunny.boardhole.board.domain.validation.optional
      recursive: false
  # User domain - Required validations
  - org.openrewrite.java.ChangePackage:
      oldPackageName: bunny.boardhole.user.domain.validation
      newPackageName: bunny.boardhole.user.domain.validation.required
      recursive: false
  # User domain - Optional validations
  - org.openrewrite.java.ChangePackage:
      oldPackageName: bunny.boardhole.user.domain.validation
      newPackageName: bunny.boardhole.user.domain.validation.optional
      recursive: false
  # Import optimization
  - org.openrewrite.java.OrderImports:
      removeUnused: true
      classCountToUseStarImport: 2
      nameCountToUseStarImport: 2